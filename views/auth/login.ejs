<%- include('../includes/head.ejs') %>
<%-include('../includes/navigation.ejs')%>
<style>
  @media only screen and (max-width: 500px) {
    #login {
      box-shadow: none;
      height: 100vh;
      width: 100vw;
      justify-content: center;
      align-items: center;
    }
    body {
      background-image: none;
    }

  }
  @media only screen and (min-width: 501px) {
      body {
        background-image: url("/assets/icons/stock-image.jpg");
    background-position: center center;
    background-size: contain;
    background-blend-mode: multiply;
    background-color: rgba(1, 1, 1, 0.3);
  }
  #login {
    width: 25rem;
    margin: 20vh 5vw;
    box-shadow: 0px 2px 5px 0px black;
        padding: 7.5rem;
            justify-content: flex-end;
    align-items: center;
  }
  }

  main {
    display: flex;
    max-width: 100vw;
  }
  #login {
    display: flex;
    flex-direction: column;
    
    background-color: #fbfbfb;
    border-radius: 10px;
    transition: all 0.2s ease;
  }
  #username-input, #password-input {
    z-index: 0;
    transition: all 0.2s ease;
    width: 20rem;
    margin: 0.5rem 1rem;
    padding: 5px;
    border-radius: 3px;
    border: 1px solid #BFBFBF;
    margin: 1rem 5px;
  }
  #username-input:focus, #password-input:focus {
    outline: none;
    border: 1px solid #404040;
  }
  #username, #password{
    position: absolute;
    background-color: white;
    padding: 0px 14.5rem 0px 5px;
    margin-left: 10px;
    margin-top: 22px;
    color: black;
    z-index: 1;
    transition: all 0.2s ease;
  }
  #login-submit-btn {
    border: 1px solid black;
    border-radius: 3px;
    color: black;
    background-color: white;
    padding: 5px 25px;
  }
  #login-submit-btn:hover {
    color: white;
    background-color: black;
  }
  #signup-btn {
   width: 100px;
  }
  .invalid-user-message {
    margin-top: -5rem;
    width: 20rem;
    padding: 0.7rem;
  }
  #login-signup {
    display: flex;
            margin-top: 5rem;
            width: 100%;
  }
</style>

<main>
  <form id="login" action="/login" method="POST" onsubmit="onSubmit()">
    <% if(message !== "") { %>
        <div ><p class="invalid-user-message btn btn-danger"><%=message%></p></div>
        <% } %>
  <div style="display: flex; justify-content: flex-start"><input
    type="text"
    id="username-input"
    onfocus="onFocusUsername()"
    onblur="onBlurUsername(event)"
    name="username"
    required
  />
  <label for="username" id="username" onclick="onFocusUsername();">E-mail</label>
</div >
<div style="display: flex; justify-content: flex-start">
  <input
    type="password"
    id="password-input"
    onfocus="onFocusPassword()"
    onblur="onBlurPassword(event)"
    name="password"
    required
  />
  <label for="password" id="password" onclick="onFocusPassword();">Password</label>
</div>
<div id="login-signup">
  <button type="submit" id="login-submit-btn">Login</button>
  <a href="/signup"><button type="button" id="signup-btn" class="btn btn-link">Sign Up</button> </a>
</div>
</form>


</main>


<script>
  const usernameInput = document.getElementById("username-input");
  const passwordInput = document.getElementById("password-input");
  const username = document.getElementById("username");
  const password = document.getElementById("password");

  function onFocusUsername() {
    username.style.fontSize = "10px";
    username.style.transform = "translate(5px,-13px)"
        username.style.padding = "0px 5px"
     usernameInput.focus()
  }
  function onBlurUsername(event) {
    if (event.target.value === "") {
      username.style.fontSize = "";
    username.style.transform = "translate(0px,0px)"
      usernameInput.blur()
    }   }

    function onFocusPassword() {
    password.style.fontSize = "10px";
    password.style.transform = "translate(5px,-13px)"
        password.style.padding = "0px 5px"
     passwordInput.focus()
  }
  function onBlurPassword(event) {
    if (event.target.value === "") {
      password.style.fontSize = "";
    password.style.transform = "translate(0px,0px)"
      passwordInput.blur()
    }  
  }
</script>
<%-include('../includes/cookies-warning.ejs')%>
<%-include('../includes/end.ejs')%>
